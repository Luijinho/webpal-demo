(function(){"use strict";var e={1729:function(e,t,s){var i=s(9242),o=s(3396);function l(e,t){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(s)}var a=s(89);const c={},r=(0,a.Z)(c,[["render",l]]);var n=r,d=s(2483),u=s(7139);const h=e=>((0,o.dD)("data-v-718032c2"),e=e(),(0,o.Cn)(),e),m={class:"no-exercises-popup"},p=h((()=>(0,o._)("p",null,"No exercises available",-1))),g=[p],b={class:"executionBtns"},f=h((()=>(0,o._)("div",{class:"divider"},null,-1))),x=["disabled"],S=h((()=>(0,o._)("div",{class:"title"},"Webpal Playground",-1))),v={class:"codeEditors"},y={class:"codeHTML"},_={class:"codeEditorWrapper"},w=h((()=>(0,o._)("label",{for:"htmlFile"},"HTML Filename:",-1))),F=h((()=>(0,o._)("div",{class:"divider"},null,-1))),C={class:"codeCSS"},k={class:"codeEditorWrapper"},E=h((()=>(0,o._)("label",{for:"cssFile"},"CSS Filename:",-1))),L=h((()=>(0,o._)("div",{class:"divider"},null,-1))),I={class:"codeJS"},T={class:"codeEditorWrapper"},D=h((()=>(0,o._)("label",{for:"jsFile"},"Javascript Filename:",-1))),j=h((()=>(0,o._)("div",{class:"frameTitles"},[(0,o._)("div",null,"Student Frame"),(0,o._)("div",null,"Teacher Frame")],-1))),M={class:"frames"},J=h((()=>(0,o._)("iframe",{class:"studentFrame",srcdoc:"",frameborder:"0"},null,-1))),H=["srcdoc"],V={class:"feedback-log"},A=h((()=>(0,o._)("h3",null,"Feedback Log:",-1))),$={class:"timestamp"},W={class:"message"};function U(e,t,s,l,a,c){const r=(0,o.up)("Sidebar"),n=(0,o.up)("codemirror");return(0,o.wg)(),(0,o.iD)("body",{class:(0,u.C_)({"no-exercises":0===a.exercises.length})},[(0,o._)("header",null,[(0,o.Wm)(r,{onExerciseSelected:c.updateExercise},null,8,["onExerciseSelected"]),(0,o.wy)((0,o._)("div",m,g,512),[[i.F8,!a.exercises.length]]),(0,o._)("div",b,[(0,o._)("button",{class:"btns",onClick:t[0]||(t[0]=(...e)=>c.executeCode&&c.executeCode(...e))},"Execute"),f,(0,o._)("button",{disabled:!a.exercise,class:"btns",onClick:t[1]||(t[1]=(...e)=>c.submitCode&&c.submitCode(...e))},"Submit",8,x)]),S]),(0,o._)("div",v,[(0,o._)("div",y,[(0,o._)("div",_,[w,(0,o.wy)((0,o._)("input",{id:"htmlFile","onUpdate:modelValue":t[2]||(t[2]=e=>l.htmlFile=e),type:"text"},null,512),[[i.nr,l.htmlFile]]),(0,o.Wm)(n,{modelValue:l.codeHTML,"onUpdate:modelValue":t[3]||(t[3]=e=>l.codeHTML=e),placeholder:"HTML goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsHTML},null,8,["modelValue","extensions"])])]),F,(0,o._)("div",C,[(0,o._)("div",k,[E,(0,o.wy)((0,o._)("input",{id:"cssFile","onUpdate:modelValue":t[4]||(t[4]=e=>l.cssFile=e),type:"text"},null,512),[[i.nr,l.cssFile]]),(0,o.Wm)(n,{modelValue:l.codeCSS,"onUpdate:modelValue":t[5]||(t[5]=e=>l.codeCSS=e),placeholder:"CSS goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsCSS},null,8,["modelValue","extensions"])])]),L,(0,o._)("div",I,[(0,o._)("div",T,[D,(0,o.wy)((0,o._)("input",{id:"jsFile","onUpdate:modelValue":t[6]||(t[6]=e=>l.jsFile=e),type:"text"},null,512),[[i.nr,l.jsFile]]),(0,o.Wm)(n,{modelValue:l.codeJS,"onUpdate:modelValue":t[7]||(t[7]=e=>l.codeJS=e),placeholder:"Javascript goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},options:{mode:"javascript",extraKeys:{"Ctrl-Space":"autocomplete"}},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsJS},null,8,["modelValue","extensions"])])])]),j,(0,o._)("div",M,[J,(0,o._)("iframe",{class:"professorFrame",srcdoc:a.professorHTML,frameborder:"0"},null,8,H)]),(0,o._)("div",V,[A,(0,o._)("button",{onClick:t[8]||(t[8]=(...e)=>c.clearFeedbackLog&&c.clearFeedbackLog(...e)),class:"clear-log-btn"},"Clear Log"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.feedbackLog.slice().reverse(),((e,t)=>((0,o.wg)(),(0,o.iD)("p",{class:"feedback-entry",key:t},[(0,o._)("span",$,(0,u.zw)(e.timestamp),1),(0,o._)("span",W,(0,u.zw)(e.feedback),1)])))),128))])],2)}s(7658);const O=e=>((0,o.dD)("data-v-19b32ae8"),e=e(),(0,o.Cn)(),e),Z=O((()=>(0,o._)("div",{class:"bar1"},null,-1))),R=O((()=>(0,o._)("div",{class:"bar2"},null,-1))),z=O((()=>(0,o._)("div",{class:"bar3"},null,-1))),P=[Z,R,z],N={class:"sidebar"},q=O((()=>(0,o._)("h2",null,"Exercises",-1))),B=["onClick"],K={class:"button-container"},Y=["onClick"],X=O((()=>(0,o._)("i",{class:""},"Edit",-1))),G=[X],Q=["onClick"],ee=O((()=>(0,o._)("i",{class:""},"Del",-1))),te=[ee];function se(e,t,s,l,a,c){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:"hamburger",onClick:t[0]||(t[0]=(...e)=>c.toggleSidebar&&c.toggleSidebar(...e))},P),(0,o.wy)((0,o._)("div",N,[(0,o._)("button",{class:"close-btn",onClick:t[1]||(t[1]=(...e)=>c.toggleSidebar&&c.toggleSidebar(...e))},"Close"),(0,o._)("button",{class:"backoffice-btn",onClick:t[2]||(t[2]=(...e)=>c.backofficeRedirect&&c.backofficeRedirect(...e))},"Backoffice"),q,(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.exercises,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,onClick:t=>c.updateExercise(e)},[(0,o.Uk)((0,u.zw)(e.assignment)+" ",1),(0,o._)("div",K,[(0,o._)("button",{onClick:(0,i.iM)((t=>c.editExercise(e.exerciseID)),["stop"])},G,8,Y),(0,o._)("button",{onClick:(0,i.iM)((t=>c.deleteExercise(e.exerciseID)),["stop"])},te,8,Q)])],8,B)))),128))])],512),[[i.F8,a.showSidebar]])])}var ie=s(4161),oe={name:"SidebarComponent",data(){return{showSidebar:!1,exercises:[]}},methods:{toggleSidebar(){this.showSidebar=!this.showSidebar,document.querySelector(".sidebar").classList.toggle("open")},async updateExercise(e){console.log(e),this.$emit("exercise-selected",e),this.toggleSidebar()},backofficeRedirect(){this.$router.push({name:"Admin"})},async getAllExercises(){try{const e=await ie.Z.get("https://webpalserver.fly.dev/getAllExercises");this.exercises=e.data}catch(e){console.error(e)}},async deleteExercise(e){try{const t=confirm("Are you sure you want to delete this exercise?");if(!t)return;await ie.Z.post("https://webpalserver.fly.dev/deleteExercise",{id:e}),window.location.reload()}catch(t){console.error(t)}},editExercise(e){"Admin"!==this.$route.name?this.$router.push({name:"Admin",query:{id:e}}):this.fetchExerciseDetails(e)},async fetchExerciseDetails(e){try{const t=await ie.Z.post("https://webpalserver.fly.dev/getFullExercise",{id:e});this.$emit("exercise-details-received",t.data)}catch(t){console.error(t)}}},mounted(){this.getAllExercises()}};const le=(0,a.Z)(oe,[["render",se],["__scopeId","data-v-19b32ae8"]]);var ae=le,ce=s(5357),re=s(1347),ne=s(9465),de=s(4937),ue=s(3029),he={name:"PlaygroundView",components:{Codemirror:ce.Z1,Sidebar:ae},setup(){const e=[(0,re.dy)()],t=[(0,ne.iv)()],s=[(0,de.eJ)()],i="",o="",l="",a="index.html",c="style.css",r="main.js";return{extensionsHTML:e,extensionsCSS:t,extensionsJS:s,codeHTML:i,codeCSS:o,codeJS:l,htmlFile:a,cssFile:c,jsFile:r}},data(){return{professorHTML:"",exercise:null,exerciseID:"",feedback:"",showModal:!1,exercises:[],showSidebar:!1,feedbackLog:[]}},methods:{async updateExercise(e){this.exercise=e,await this.generateSolutionInterface();const t={studentID:localStorage.getItem("userId"),exerciseID:e.exerciseID,timestamp:(new Date).toISOString(),with_feedback:!0,feedback:'Started exercise "'+e.assignment+'"'};this.updateLog(t)},async evaluateExercise(e,t,s,i){try{const o=await ie.Z.post("https://webpal-server.fly.dev/evaluateExercise",{id:e,attemptFiles:t,port:s,previousFeedback:i});this.feedback=o.data;const l=(new Date).toLocaleString();this.feedbackLog.push({timestamp:l,feedback:this.feedback});const a={studentID:localStorage.getItem("userId"),exerciseID:this.exercise.exerciseID,timestamp:(new Date).toISOString(),with_feedback:!0,feedback:this.feedback};this.updateLog(a)}catch(o){console.error(o)}},async getAllExercises(){try{const e=await ie.Z.get("https://webpal-server.fly.dev/getAllExercises");this.exercises=e.data,console.log(this.exercises)}catch(e){console.error(e)}},clearFeedbackLog(){this.feedbackLog=[]},generateSolutionInterface(){let e="",t="",s="";for(let o=0;o<this.exercise.data.data.length;o++){const i=this.exercise.data.data[o],l=i.filename.split(".").pop();if("html"===l){const t=i.code.match(/<body[^>]*>([\s\S]*)<\/body>/i);e=t?t[1]:""}else"css"===l?t+=`<style>${i.code}</style>`:"js"===l&&(s+=`<script>${i.code}<\/script>`)}const i=`<html><head>${t}</head><body>${e}${s}</body></html>`;this.professorHTML=i},updateLog(e){const t=localStorage.getItem("userId"),s="https://webpal-server.fly.dev/log",i={userId:t,logContent:e};ie.Z.post(s,i).then((()=>{console.log("Log data sent successfully")})).catch((e=>{console.error("Failed to send log data:",e)}))},executeCode(){var e=this.codeHTML;const t=this.jsFile.split(".")[0],s=this.cssFile.split(".")[0],i=new RegExp(`<script[^>]*src=['"]${t}\\.js['"][^>]*><\\/script>`,"i"),o=e.match(i),l=new RegExp(`<link[^>]*href=['"]${s}\\.css['"][^>]*>`,"i"),a=e.match(l);if(o&&this.codeJS){const t=`<script>${this.codeJS}<\/script>`;e=e.replace(/<\/body>\s*<\/html>/i,`${t}</body></html>`)}if(a&&this.codeCSS){const t=`<style>${this.codeCSS}</style>`;e=e.replace(/<\/head>/i,`${t}</head>`)}document.querySelector(".studentFrame").setAttribute("srcdoc",e)},backofficeRedirect(){this.$router.push({name:"Admin"})},createUserId(){if(!localStorage.getItem("userId")){const e=(0,ue.Z)();localStorage.setItem("userId",e)}console.log(localStorage.getItem("userId"))},async submitCode(){const e=[];""!==this.codeHTML.trim()&&e.push({filename:this.htmlFile,code:this.codeHTML}),""!==this.codeCSS.trim()&&e.push({filename:this.cssFile,code:this.codeCSS}),""!==this.codeJS.trim()&&e.push({filename:this.jsFile,code:this.codeJS}),await this.evaluateExercise(this.exercise.exerciseID,JSON.stringify(e),8090,[])}},mounted(){this.getAllExercises(),this.createUserId()}};const me=(0,a.Z)(he,[["render",U],["__scopeId","data-v-718032c2"]]);var pe=me;const ge=e=>((0,o.dD)("data-v-080038ca"),e=e(),(0,o.Cn)(),e),be={class:"no-exercises-popup"},fe=ge((()=>(0,o._)("p",null,"No exercises available",-1))),xe=[fe],Se={class:"executionBtns"},ve=ge((()=>(0,o._)("div",{class:"divider"},null,-1))),ye=["disabled"],_e=ge((()=>(0,o._)("div",{class:"title"},"Webpal Playground",-1))),we={class:"codeEditors"},Fe={class:"codeHTML"},Ce={class:"codeEditorWrapper"},ke=ge((()=>(0,o._)("label",{for:"htmlFile"},"HTML Filename:",-1))),Ee=ge((()=>(0,o._)("div",{class:"divider"},null,-1))),Le={class:"codeCSS"},Ie={class:"codeEditorWrapper"},Te=ge((()=>(0,o._)("label",{for:"cssFile"},"CSS Filename:",-1))),De=ge((()=>(0,o._)("div",{class:"divider"},null,-1))),je={class:"codeJS"},Me={class:"codeEditorWrapper"},Je=ge((()=>(0,o._)("label",{for:"jsFile"},"Javascript Filename:",-1))),He=ge((()=>(0,o._)("div",{class:"frameTitles"},[(0,o._)("div",null,"Student Frame"),(0,o._)("div",null,"Teacher Frame")],-1))),Ve={class:"frames"},Ae=ge((()=>(0,o._)("iframe",{class:"studentFrame",srcdoc:"",frameborder:"0"},null,-1))),$e=["srcdoc"],We={class:"feedback-log"},Ue=ge((()=>(0,o._)("h3",null,"Feedback Log:",-1))),Oe={class:"timestamp"},Ze={class:"message"};function Re(e,t,s,l,a,c){const r=(0,o.up)("Sidebar"),n=(0,o.up)("codemirror");return(0,o.wg)(),(0,o.iD)("body",{class:(0,u.C_)({"no-exercises":0===a.exercises.length})},[(0,o._)("header",null,[(0,o.Wm)(r,{onExerciseSelected:c.updateExercise},null,8,["onExerciseSelected"]),(0,o.wy)((0,o._)("div",be,xe,512),[[i.F8,!a.exercises.length]]),(0,o._)("div",Se,[(0,o._)("button",{class:"btns",onClick:t[0]||(t[0]=(...e)=>c.executeCode&&c.executeCode(...e))},"Execute"),ve,(0,o._)("button",{disabled:!a.exercise,class:"btns",onClick:t[1]||(t[1]=(...e)=>c.submitCode&&c.submitCode(...e))},"Submit",8,ye)]),_e]),(0,o._)("div",we,[(0,o._)("div",Fe,[(0,o._)("div",Ce,[ke,(0,o.wy)((0,o._)("input",{id:"htmlFile","onUpdate:modelValue":t[2]||(t[2]=e=>l.htmlFile=e),type:"text"},null,512),[[i.nr,l.htmlFile]]),(0,o.Wm)(n,{modelValue:l.codeHTML,"onUpdate:modelValue":t[3]||(t[3]=e=>l.codeHTML=e),placeholder:"HTML goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsHTML},null,8,["modelValue","extensions"])])]),Ee,(0,o._)("div",Le,[(0,o._)("div",Ie,[Te,(0,o.wy)((0,o._)("input",{id:"cssFile","onUpdate:modelValue":t[4]||(t[4]=e=>l.cssFile=e),type:"text"},null,512),[[i.nr,l.cssFile]]),(0,o.Wm)(n,{modelValue:l.codeCSS,"onUpdate:modelValue":t[5]||(t[5]=e=>l.codeCSS=e),placeholder:"CSS goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsCSS},null,8,["modelValue","extensions"])])]),De,(0,o._)("div",je,[(0,o._)("div",Me,[Je,(0,o.wy)((0,o._)("input",{id:"jsFile","onUpdate:modelValue":t[6]||(t[6]=e=>l.jsFile=e),type:"text"},null,512),[[i.nr,l.jsFile]]),(0,o.Wm)(n,{modelValue:l.codeJS,"onUpdate:modelValue":t[7]||(t[7]=e=>l.codeJS=e),placeholder:"Javascript goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},options:{mode:"javascript",extraKeys:{"Ctrl-Space":"autocomplete"}},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsJS},null,8,["modelValue","extensions"])])])]),He,(0,o._)("div",Ve,[Ae,(0,o._)("iframe",{class:"professorFrame",srcdoc:a.professorHTML,frameborder:"0"},null,8,$e)]),(0,o._)("div",We,[Ue,(0,o._)("button",{onClick:t[8]||(t[8]=(...e)=>c.clearFeedbackLog&&c.clearFeedbackLog(...e)),class:"clear-log-btn"},"Clear Log"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.feedbackLog.slice().reverse(),((e,t)=>((0,o.wg)(),(0,o.iD)("p",{class:"feedback-entry",key:t},[(0,o._)("span",Oe,(0,u.zw)(e.timestamp),1),(0,o._)("span",Ze,(0,u.zw)(e.feedback),1)])))),128))])],2)}var ze={name:"PlaygroundWorstView",components:{Codemirror:ce.Z1,Sidebar:ae},setup(){const e=[(0,re.dy)()],t=[(0,ne.iv)()],s=[(0,de.eJ)()],i="",o="",l="",a="index.html",c="style.css",r="main.js";return{extensionsHTML:e,extensionsCSS:t,extensionsJS:s,codeHTML:i,codeCSS:o,codeJS:l,htmlFile:a,cssFile:c,jsFile:r}},data(){return{professorHTML:"",exercise:null,exerciseID:"",feedback:"",showModal:!1,exercises:[],showSidebar:!1,feedbackLog:[]}},methods:{async updateExercise(e){this.exercise=e,await this.generateSolutionInterface();const t={studentID:localStorage.getItem("userId"),exerciseID:e.exerciseID,timestamp:(new Date).toISOString(),with_feedback:!1,feedback:'Started exercise "'+e.assignment+'"'};this.updateLog(t)},async evaluateExercise(e,t,s,i){try{const l=await ie.Z.post("https://webpal-server.fly.dev/evaluateExerciseWithoutStatic",{id:e,attemptFiles:t,port:s,previousFeedback:i});this.feedback=l.data;const a=(new Date).toLocaleString();var o;o="Congratulations! Your solution passed all tests and validations."===this.feedback?"Correct":"Incorrect",this.feedbackLog.push({timestamp:a,feedback:o});const c={studentID:localStorage.getItem("userId"),exerciseID:this.exercise.exerciseID,timestamp:(new Date).toISOString(),with_feedback:!1,feedback:o};this.updateLog(c)}catch(l){console.error(l)}},async getAllExercises(){try{const e=await ie.Z.get("https://webpal-server.fly.dev/getAllExercises");this.exercises=e.data,console.log(this.exercises)}catch(e){console.error(e)}},clearFeedbackLog(){this.feedbackLog=[]},generateSolutionInterface(){let e="",t="",s="";for(let o=0;o<this.exercise.data.data.length;o++){const i=this.exercise.data.data[o],l=i.filename.split(".").pop();if("html"===l){const t=i.code.match(/<body[^>]*>([\s\S]*)<\/body>/i);e=t?t[1]:""}else"css"===l?t+=`<style>${i.code}</style>`:"js"===l&&(s+=`<script>${i.code}<\/script>`)}const i=`<html><head>${t}</head><body>${e}${s}</body></html>`;this.professorHTML=i},updateLog(e){const t=localStorage.getItem("userId"),s="https://webpal-server.fly.dev/log",i={userId:t,logContent:e};ie.Z.post(s,i).then((()=>{console.log("Log data sent successfully")})).catch((e=>{console.error("Failed to send log data:",e)}))},executeCode(){var e=this.codeHTML;const t=this.jsFile.split(".")[0],s=this.cssFile.split(".")[0],i=new RegExp(`<script[^>]*src=['"]${t}\\.js['"][^>]*><\\/script>`,"i"),o=e.match(i),l=new RegExp(`<link[^>]*href=['"]${s}\\.css['"][^>]*>`,"i"),a=e.match(l);if(o&&this.codeJS){const t=`<script>${this.codeJS}<\/script>`;e=e.replace(/<\/body>\s*<\/html>/i,`${t}</body></html>`)}if(a&&this.codeCSS){const t=`<style>${this.codeCSS}</style>`;e=e.replace(/<\/head>/i,`${t}</head>`)}document.querySelector(".studentFrame").setAttribute("srcdoc",e)},backofficeRedirect(){this.$router.push({name:"Admin"})},createUserId(){if(!localStorage.getItem("userId")){const e=(0,ue.Z)();localStorage.setItem("userId",e)}console.log(localStorage.getItem("userId"))},async submitCode(){const e=[];""!==this.codeHTML.trim()&&e.push({filename:this.htmlFile,code:this.codeHTML}),""!==this.codeCSS.trim()&&e.push({filename:this.cssFile,code:this.codeCSS}),""!==this.codeJS.trim()&&e.push({filename:this.jsFile,code:this.codeJS}),await this.evaluateExercise(this.exercise.exerciseID,JSON.stringify(e),8090,[])}},mounted(){this.getAllExercises(),this.createUserId()}};const Pe=(0,a.Z)(ze,[["render",Re],["__scopeId","data-v-080038ca"]]);var Ne=Pe;const qe=e=>((0,o.dD)("data-v-3c8a527a"),e=e(),(0,o.Cn)(),e),Be={key:0,class:"submit-success"},Ke={class:"exercise-creator"},Ye=qe((()=>(0,o._)("div",{class:"title"},"Backoffice - Create Exercise",-1))),Xe={class:"form-container"},Ge={class:"form-group"},Qe=qe((()=>(0,o._)("label",{for:"assignment"},"Assignment Name/Description:",-1))),et={class:"form-group"},tt={class:"codeEditors"},st={class:"codeHTML"},it={class:"codeEditorWrapper"},ot=qe((()=>(0,o._)("label",{for:"htmlFile"},"HTML Filename:",-1))),lt=qe((()=>(0,o._)("div",{class:"divider"},null,-1))),at={class:"codeCSS"},ct={class:"codeEditorWrapper"},rt=qe((()=>(0,o._)("label",{for:"cssFile"},"CSS Filename:",-1))),nt=qe((()=>(0,o._)("div",{class:"divider"},null,-1))),dt={class:"codeJS"},ut={class:"codeEditorWrapper"},ht=qe((()=>(0,o._)("label",{for:"jsFile"},"Javascript Filename:",-1))),mt={class:"form-group"},pt=qe((()=>(0,o._)("label",{for:"js-tests"},"JS Mocha Tests:",-1))),gt=["placeholder"];function bt(e,t,s,l,a,c){const r=(0,o.up)("Sidebar"),n=(0,o.up)("codemirror");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.submitSuccess?((0,o.wg)(),(0,o.iD)("div",Be,"Exercise created successfully!")):(0,o.kq)("",!0),(0,o._)("div",Ke,[(0,o._)("header",null,[(0,o.Wm)(r,{onExerciseDetailsReceived:c.handleExerciseDetailsReceived},null,8,["onExerciseDetailsReceived"]),Ye,(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>c.playgroundRedirect&&c.playgroundRedirect(...e))},"Back to Playground")]),(0,o._)("div",Xe,[(0,o._)("div",Ge,[Qe,(0,o.wy)((0,o._)("input",{id:"assignment",placeholder:"Insert exercise name...","onUpdate:modelValue":t[1]||(t[1]=e=>a.assignment=e),type:"text",required:""},null,512),[[i.nr,a.assignment]])]),(0,o._)("div",et,[(0,o._)("div",tt,[(0,o._)("div",st,[(0,o._)("div",it,[ot,(0,o.wy)((0,o._)("input",{id:"htmlFile","onUpdate:modelValue":t[2]||(t[2]=e=>l.htmlFile=e),type:"text"},null,512),[[i.nr,l.htmlFile]]),(0,o.Wm)(n,{modelValue:l.codeHTML,"onUpdate:modelValue":t[3]||(t[3]=e=>l.codeHTML=e),placeholder:"HTML goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsHTML},null,8,["modelValue","extensions"])])]),lt,(0,o._)("div",at,[(0,o._)("div",ct,[rt,(0,o.wy)((0,o._)("input",{id:"cssFile","onUpdate:modelValue":t[4]||(t[4]=e=>l.cssFile=e),type:"text"},null,512),[[i.nr,l.cssFile]]),(0,o.Wm)(n,{modelValue:l.codeCSS,"onUpdate:modelValue":t[5]||(t[5]=e=>l.codeCSS=e),placeholder:"CSS goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsCSS},null,8,["modelValue","extensions"])])]),nt,(0,o._)("div",dt,[(0,o._)("div",ut,[ht,(0,o.wy)((0,o._)("input",{id:"jsFile","onUpdate:modelValue":t[6]||(t[6]=e=>l.jsFile=e),type:"text"},null,512),[[i.nr,l.jsFile]]),(0,o.Wm)(n,{modelValue:l.codeJS,"onUpdate:modelValue":t[7]||(t[7]=e=>l.codeJS=e),placeholder:"Javascript goes here...",style:{height:"200px",width:"100%",textAlign:"left",backgroundColor:"white"},options:{mode:"javascript",extraKeys:{"Ctrl-Space":"autocomplete"}},autofocus:!0,"indent-with-tab":!0,"tab-size":4,extensions:l.extensionsJS},null,8,["modelValue","extensions"])])])])]),(0,o._)("div",mt,[pt,(0,o.wy)((0,o._)("textarea",{id:"js-tests",placeholder:c.TestsPlaceholder,"onUpdate:modelValue":t[8]||(t[8]=e=>a.jsTests=e),required:""},null,8,gt),[[i.nr,a.jsTests]])]),(0,o._)("button",{onClick:t[9]||(t[9]=(...e)=>c.submitExercise&&c.submitExercise(...e))},"Submit Exercise")])])],64)}var ft={name:"AdminView",components:{Sidebar:ae,Codemirror:ce.Z1},setup(){const e=[(0,re.dy)()],t=[(0,ne.iv)()],s=[(0,de.eJ)()],i="",o="",l="",a="index.html",c="style.css",r="main.js";return{extensionsHTML:e,extensionsCSS:t,extensionsJS:s,codeHTML:i,codeCSS:o,codeJS:l,htmlFile:a,cssFile:c,jsFile:r}},data(){return{assignment:"",jsTests:"",exercises:[],showSidebar:!1,submitSuccess:!1}},computed:{TestsPlaceholder(){return"EXAMPLE:\nconst assert = chai.assert;\n\ndescribe('Example Test', function() {\nconst sum = document.getElementById('sum');\n\n  it('should return true', function(done) {\n    assert.equal(true, sum.innerHTML);\n    done() \n  });\n});"}},methods:{generateJSON(){const e=[{filename:this.htmlFile,code:this.codeHTML},{filename:this.cssFile,code:this.codeCSS},{filename:this.jsFile,code:this.codeJS}];return JSON.stringify(e,null,2)},async submitExercise(){const e=this.generateJSON(),t=this.jsTests,s=this.assignment;console.log(JSON.parse(e));try{const i=await ie.Z.post("https://webpal-server.fly.dev/createExercise",{code:e,tests:t,assignment:s});console.log("ID: "+i.data),this.exerciseID=i.data,this.submitSuccess=!0,this.assignment="",this.jsonData="",this.jsTests=""}catch(i){console.error(i)}},handleExerciseDetailsReceived(e){this.assignment=e.assignment,e.data.data.forEach((e=>{e.filename.endsWith(".html")?(this.htmlFile=e.filename,this.codeHTML=e.code):e.filename.endsWith(".css")?(this.cssFile=e.filename,this.codeCSS=e.code):e.filename.endsWith(".js")&&(this.jsFile=e.filename,this.codeJS=e.code)})),this.jsTests=e.testData},playgroundRedirect(){this.$router.push({name:"Playground"})}}};const xt=(0,a.Z)(ft,[["render",bt],["__scopeId","data-v-3c8a527a"]]);var St=xt;const vt=[{path:"/main",name:"Playground",component:pe,props:!0},{path:"/new",name:"PlaygroundWorstView",component:Ne,props:!0},{path:"/admin",name:"Admin",component:St,props:!0}],yt=(0,d.p7)({history:(0,d.r5)(),routes:vt});var _t=yt;(0,i.ri)(n).use(_t).mount("#app")}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,l){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],o=e[d][1],l=e[d][2];for(var c=!0,r=0;r<i.length;r++)(!1&l||a>=l)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(c=!1,l<a&&(a=l));if(c){e.splice(d--,1);var n=o();void 0!==n&&(t=n)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[i,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,l,a=i[0],c=i[1],r=i[2],n=0;if(a.some((function(t){return 0!==e[t]}))){for(o in c)s.o(c,o)&&(s.m[o]=c[o]);if(r)var d=r(s)}for(t&&t(i);n<a.length;n++)l=a[n],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},i=self["webpackChunkwebpal_demo"]=self["webpackChunkwebpal_demo"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1729)}));i=s.O(i)})();
//# sourceMappingURL=app.c31e1070.js.map